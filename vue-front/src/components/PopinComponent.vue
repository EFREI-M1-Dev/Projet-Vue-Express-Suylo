<script setup>
const emit = defineEmits(['close']);
const closePopin = () => {
	emit('close');
};

const props = defineProps({
	art: {
		type: Object,
		required: true,
	},
});
</script>

<template>
	<section class='popin' @click='closePopin'>
		<div class='popin__content' @click.stop>
			<div class='popin__content__layout'>
				<img class='popin__content__img' :src='"/arts/img/"+ art?.image' :alt='art?.title' />
				<div class='popin__content__text'>
					<h1 class='title'>
						<span class='small'>Nom de l'œuvre :</span>
						<br>
						{{ art?.name }}
					</h1>
					<p v-if='art?.description' class='description'>
						<span class='small'>
							Description :
						</span>
						<br>
						<span class='svg'>
							<svg width='12' height='12' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
							<path
									d='M6.50002 9.99978C6.27702 9.99978 6.06302 10.0338 5.85002 10.0648C5.91902 9.83278 5.99002 9.59679 6.10402 9.38479C6.21802 9.07679 6.39602 8.80979 6.57302 8.54079C6.72102 8.24979 6.98202 8.05278 7.17402 7.80378C7.37502 7.56178 7.64902 7.40078 7.86602 7.19978C8.07902 6.98978 8.35802 6.88478 8.58002 6.73678C8.81202 6.60379 9.01402 6.45678 9.23002 6.38679L9.76902 6.16478L10.243 5.96778L9.75802 4.02979L9.16102 4.17378C8.97002 4.22178 8.73702 4.27778 8.47202 4.34478C8.20102 4.39478 7.91202 4.53179 7.59002 4.65679C7.27202 4.79879 6.90402 4.89479 6.56202 5.12279C6.21802 5.34079 5.82102 5.52278 5.47102 5.81479C5.13202 6.11579 4.72302 6.37679 4.42102 6.75979C4.09102 7.11779 3.76502 7.49378 3.51202 7.92178C3.21902 8.32978 3.02002 8.77778 2.81002 9.22078C2.62002 9.66378 2.46702 10.1168 2.34202 10.5568C2.10502 11.4388 1.99902 12.2768 1.95802 12.9938C1.92402 13.7118 1.94402 14.3088 1.98602 14.7408C2.00102 14.9448 2.02902 15.1428 2.04902 15.2798L2.07402 15.4478L2.10002 15.4418C2.27788 16.2726 2.68733 17.0361 3.28099 17.644C3.87465 18.2518 4.62826 18.6792 5.45466 18.8766C6.28106 19.074 7.14647 19.0335 7.95078 18.7596C8.75509 18.4858 9.46543 17.9898 9.99963 17.3291C10.5338 16.6684 10.8701 15.8699 10.9694 15.0261C11.0688 14.1823 10.9273 13.3275 10.5612 12.5608C10.1951 11.7941 9.61936 11.1466 8.90068 10.6934C8.18199 10.2402 7.34968 9.99973 6.50002 9.99978ZM17.5 9.99978C17.277 9.99978 17.063 10.0338 16.85 10.0648C16.919 9.83278 16.99 9.59679 17.104 9.38479C17.218 9.07679 17.396 8.80979 17.573 8.54079C17.721 8.24979 17.982 8.05278 18.174 7.80378C18.375 7.56178 18.649 7.40078 18.866 7.19978C19.079 6.98978 19.358 6.88478 19.58 6.73678C19.812 6.60379 20.014 6.45678 20.23 6.38679L20.769 6.16478L21.243 5.96778L20.758 4.02979L20.161 4.17378C19.97 4.22178 19.737 4.27778 19.472 4.34478C19.201 4.39478 18.912 4.53179 18.59 4.65679C18.273 4.79979 17.904 4.89479 17.562 5.12379C17.218 5.34178 16.821 5.52378 16.471 5.81578C16.132 6.11679 15.723 6.37779 15.421 6.75979C15.091 7.11779 14.765 7.49378 14.512 7.92178C14.219 8.32978 14.02 8.77778 13.81 9.22078C13.62 9.66378 13.467 10.1168 13.342 10.5568C13.105 11.4388 12.999 12.2768 12.958 12.9938C12.924 13.7118 12.944 14.3088 12.986 14.7408C13.001 14.9448 13.029 15.1428 13.049 15.2798L13.074 15.4478L13.1 15.4418C13.2779 16.2726 13.6873 17.0361 14.281 17.644C14.8746 18.2518 15.6283 18.6792 16.4547 18.8766C17.2811 19.074 18.1465 19.0335 18.9508 18.7596C19.7551 18.4858 20.4654 17.9898 20.9996 17.3291C21.5338 16.6684 21.8701 15.8699 21.9694 15.0261C22.0688 14.1823 21.9273 13.3275 21.5612 12.5608C21.1951 11.7941 20.6194 11.1466 19.9007 10.6934C19.182 10.2402 18.3497 9.99973 17.5 9.99978Z'
									fill='black' />
							</svg>
						</span>
						{{ art?.description }}
						<span class='svg'>
							<svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M21.95 8.721L21.925 8.553L21.899 8.559C21.7213 7.72804 21.312 6.96437 20.7183 6.35635C20.1247 5.74833 19.3711 5.32082 18.5446 5.12328C17.7181 4.92574 16.8526 4.96625 16.0482 5.24011C15.2438 5.51397 14.5334 6.00999 13.9991 6.67079C13.4649 7.33159 13.1286 8.13015 13.0293 8.97408C12.93 9.818 13.0717 10.6728 13.4379 11.4396C13.8042 12.2063 14.3801 12.8537 15.0989 13.3068C15.8178 13.76 16.6502 14.0003 17.5 14C17.723 14 17.937 13.966 18.15 13.935C18.081 14.167 18.01 14.403 17.896 14.615C17.782 14.923 17.604 15.19 17.427 15.459C17.279 15.75 17.018 15.947 16.826 16.196C16.625 16.438 16.351 16.599 16.134 16.8C15.921 17.01 15.642 17.115 15.42 17.263C15.188 17.396 14.986 17.543 14.77 17.613L14.231 17.835L13.757 18.032L14.241 19.971L14.838 19.827C15.029 19.779 15.262 19.723 15.527 19.656C15.798 19.606 16.087 19.469 16.409 19.344C16.726 19.201 17.095 19.106 17.437 18.877C17.781 18.659 18.178 18.477 18.528 18.185C18.867 17.884 19.276 17.623 19.578 17.241C19.908 16.883 20.234 16.507 20.487 16.079C20.78 15.671 20.979 15.223 21.189 14.78C21.379 14.337 21.532 13.884 21.657 13.444C21.894 12.562 22 11.724 22.041 11.007C22.075 10.289 22.055 9.692 22.013 9.26C21.9989 9.07959 21.9779 8.89979 21.95 8.721ZM10.95 8.721L10.925 8.553L10.899 8.559C10.7213 7.72804 10.312 6.96437 9.71833 6.35635C9.12471 5.74833 8.37106 5.32082 7.54459 5.12328C6.71812 4.92574 5.85261 4.96625 5.0482 5.24011C4.24379 5.51397 3.53336 6.00999 2.99911 6.67079C2.46486 7.33159 2.12863 8.13015 2.02932 8.97408C1.93 9.818 2.07167 10.6728 2.43793 11.4396C2.80418 12.2063 3.38006 12.8537 4.09892 13.3068C4.81778 13.76 5.65024 14.0003 6.49999 14C6.72299 14 6.93699 13.966 7.14999 13.935C7.08099 14.167 7.00999 14.403 6.89599 14.615C6.78199 14.923 6.60399 15.19 6.42699 15.459C6.27899 15.75 6.01799 15.947 5.82599 16.196C5.62499 16.438 5.35099 16.599 5.13399 16.8C4.92099 17.01 4.64199 17.115 4.41999 17.263C4.18799 17.396 3.98599 17.543 3.76999 17.613L3.23099 17.835C2.92999 17.958 2.75799 18.03 2.75799 18.03L3.24199 19.969L3.83899 19.825C4.02999 19.777 4.26299 19.721 4.52799 19.654C4.79899 19.604 5.08799 19.467 5.40999 19.342C5.72699 19.199 6.09599 19.104 6.43799 18.875C6.78199 18.657 7.17899 18.475 7.52899 18.183C7.86799 17.882 8.27699 17.621 8.57899 17.239C8.90899 16.881 9.23499 16.505 9.48799 16.077C9.78099 15.669 9.97999 15.221 10.19 14.778C10.38 14.335 10.533 13.882 10.658 13.442C10.895 12.56 11.001 11.722 11.042 11.005C11.076 10.287 11.056 9.69 11.014 9.258C10.9991 9.0783 10.9777 8.89918 10.95 8.721Z" fill="black"/>
								</svg>
						</span>
					</p>
					<p v-if='art?.price' class='price'>
						<span class='small'>
							Prix estimé :
						</span>
						<br>
						{{ art?.price }}&nbsp;€
					</p>
				</div>

				<div class='popin__close' @click='closePopin' title='Fermer la popin'>
					<svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<path
								d='M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z'
								fill='black' />
					</svg>
				</div>
			</div>
		</div>
	</section>
</template>

<style scoped lang='scss'>
.popin {
	content: '';
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, .5);
	z-index: 0;

	&__content {
		display: flex;
		justify-content: center;
		align-items: center;
		height: 100%;
		pointer-events: none;

		&__layout {
			display: grid;
			grid-template-columns: 666px 450px;
			background-color: $white;
			position: relative;
			pointer-events: auto;
		}

		&__text {
			width: 100%;
			padding: 2rem 4rem 2rem 2rem;
			box-sizing: border-box;
			border-left: 1px solid $black;

			.title {
				font-family: $jakarta;
				font-size: 2.5rem;
				font-weight: 600;
				margin-bottom: 2rem;
				line-height: 1.2;

			}

			.description, .price {
				font-family: $opensans;
				font-size: 2rem;
				font-weight: 400;
				margin-bottom: 2rem;
				line-height: 1.6;
			}
			.description{
				font-style: italic;
				font-size: 1.7rem;
			}

			.price{
				font-family: $jakarta;
				font-weight: 600;
			}

			.small{
				font-size: 1.5rem;
				font-weight: 400;
				margin-right: .25rem;
				font-style: normal;

			}
		}

		&__img {
			padding: 2rem;
			box-sizing: border-box;
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
	}

	&__close {
		position: absolute;
		top: 1.5rem;
		right: 1rem;

		&:hover {
			svg path {
				fill: $red;
			}

			cursor: pointer;
		}
	}
}

</style>